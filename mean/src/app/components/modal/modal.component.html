

<div mdbModal #basicModal="mdb-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel" aria-hidden="true" [config]="{backdrop: false, ignoreBackdropClick: true, show: true}">
    
    <div class="modal-dialog w-50" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close pull-right" aria-label="Close" (click)="closeModal()">
                    <span aria-hidden="true">Ã—</span>
                </button>
                <h4 class="modal-title w-100" id="myModalLabel">Modal title</h4>
            </div>
            <div class="modal-body">

                <!-- Display following input fields if creating a new project -->
                <form *ngIf="isAddNewProject()" 
                      #projectForm="ngForm" 
                      (ngSubmit)="saveProject()">

                    <div class="md-form">
                        <i class="fa fa-file prefix grey-text"></i>
                        <input type="text" id="projectTitle" name="project-title" class="form-control text-indent-2" [(ngModel)]="projectProps.title">
                        <label for="projectTitle">Project Title</label>
                    </div>

                    <div class="md-form">
                        <i class="fa fa-clipboard prefix grey-text"></i>

                        <textarea id="projectDescription" rows="5" cols="70" 
                                  class="form-control text-indent-2" name="description" [(ngModel)]="projectProps.description"></textarea>

                        <label for="projectDescription">Project Description</label>
                    </div>

                </form>

                <!-- Shows if adding log -->
                <textarea class="form-control" rows="6" cols="70" [(ngModel)]="projectProps.log_text" *ngIf="isAddLog()"></textarea>

                <!-- Display the following body if viewing logs -->
                <div class="card w-100" *ngIf="isViewLog()">
                    <div class="card-body" style="overflow-y:scroll;">
                        
                        <!-- If Admin displays the log message -->
                        <p class="card-text" *ngIf="isAdmin()">
                            {{ projectProps.multi_props.log.log_message }}
                        </p>

                        <!-- If User ddisplays the log message in a textarea and allow for editing -->
                        <textarea class="form-control" 
                                    rows="6" 
                                    cols="70" 
                                    [(ngModel)]="projectProps.multi_props.log.log_message" 
                                    *ngIf="!isAdmin()"
                                    [disabled]="projectProps.multi_props.logEditingDisabled"></textarea>

                        
                    </div>
                </div>

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary waves-light" aria-label="Close" (click)="closeModal()" mdbRippleRadius>Close</button>
                <button type="submit" 
                        (click)="saveOperation()"
                        class="btn btn-primary relative waves-light" 
                        mdbRippleRadius>Save changes</button>
                
                <button type="button" class="btn btn-success" v-if="isViewLog() && isAdmin()" @click="markLogAs('Seen')">
                    <i class="fa fa-check mr-2" aria-hidden="true"></i>
                    Seen
                </button>

                <button type="button" class="btn btn-warning" v-if="isViewLog() && isAdmin()" @click="markLogAs('Review')">
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    Review
                </button>

                <!-- Displays button if user is viewing log provides button to edit-->
                <button type="button" class="btn btn-primary" v-if="isViewLog() && !isAdmin()" @click="logEditingDisabled = !logEditingDisabled">
                    <i class="fa fa-pencil mr-2" aria-hidden="true"></i>
                    Edit                          
                </button>

                <!-- Displays button if user is editing log provides button to update log-->
                <button type="button" class="btn btn-success" v-if="isViewLog() && !logEditingDisabled && !isAdmin()" @click="EventBus.$emit('updateLog', receivedParam)">
                    <i class="fa fa-check mr-2" aria-hidden="true"></i>
                    Save                            
                </button>
            </div>
        </div>
    </div>
</div>